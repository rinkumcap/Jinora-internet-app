{% extends "base_header.html" %}
{% block title %}App List{% endblock %}

{% block content %} 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<style>
.main-img-wrapper {
  position: relative;
  display: inline-block;
  width: 100px;  
  height: auto;
}

.main-img {
  position: relative;
  z-index: 3;
  width: 100px;    
  border-radius: 8px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

.bg-img {
  position: absolute;
  bottom: -10px;
  width: 90px;     
  z-index: 1;
  opacity: 0.5;
  border-radius: 8px;
  transition: all 0.3s;
}

.left-bg {
  left: -35px;
  transform: rotate(-5deg);
}

.right-bg {
  right: -35px;
  transform: rotate(5deg);
}

.main-img-wrapper:hover .main-img {
  transform: scale(1.05);
}

</style>
<div class="pc-container">
  <div class="pc-content">
    <div class="table-responsive card p-3">
        <div>
            <h2>App</h2>
            <a href="{% url 'app_add' %}" class="btn btn-primary mb-3">Add New App</a>
        </div>
            
            <table class="table table-bordered">
                <thead>
                    <tr>
                         <th>Actions</th>
                        <th>Logo Image</th>
                        <th>App name</th>
                        <th>platform</th>
                        <th>Tagline</th>
                        <th>Main Image</th>
                        <th>download file</th>
                        <th>download_link</th>
                        <th>download_count</th>
                        <th>Active</th>
                       
                        <th>last Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for g in app_list %}
                    <tr>
                        <td>
                            <!-- Edit button with pencil icon -->
                            <a href="{% url 'app_edit' g.id %}" 
                            class="btn btn-warning btn-sm" title="Edit">
                                <i class="bi bi-pencil-square"></i>
                            </a>

                            <!-- Delete button with trash icon -->
                            <a href="{% url 'app_delete' g.id %}" 
                            class="btn btn-danger btn-sm mt-2" 
                            onclick="return confirm('Are you sure you want to delete this image?');"
                            title="Delete">
                                <i class="bi bi-trash"></i>
                            </a>
                        </td>
                        <td>
                            {% if g.logo_image %}
                                <img src="{{ g.logo_image.url }}" width="80">
                            {% endif %}
                        </td>
                        <td>{{ g.name }}</td>
                    
                        <!-- <td>{{ g.logo_image.url }}</td> -->
                        <td>{{ g.platform }}</td>
                        <td>{{ g.tagline }}</td>
                        <td>
                            <div class="main-img-wrapper" style="width:100px; height:auto;">
                                {% if g.main_image2 %}
                                    <img class="bg-img left-bg" src="{{ g.main_image2.url }}" alt="{{ g.name }}">
                                {% endif %}
                                {% if g.main_image1 %}
                                    <img class="bg-img right-bg" src="{{ g.main_image1.url }}" alt="{{ g.name }} "  >
                                {% endif %}
                                {% if g.main_image %}
                                    <img class="main-img" src="{{ g.main_image.url }}" alt="{{ g.name }}">
                                {% endif %}
                            </div>
                        </td>

                        <td>{{ g.download_file }}</td>
                        <td>{{ g.download_link }}</td>
                        <td>{{ g.download_count }}</td>
                        <td>{{ g.is_active }}</td>
                        
                        <td>{{ g.updated_at }}</td>
                   

                    </tr>
                    {% empty %}
                    <tr><td colspan="4">Items not found</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>    
</div>
</div>


{% endblock %}
